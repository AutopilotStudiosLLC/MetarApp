<ion-header>

	<ion-navbar>
		<ion-title>METARs</ion-title>
	</ion-navbar>

</ion-header>


<ion-content>
	<form #stationForm="ngForm" (ngSubmit)="onStationSearch(stationForm.value.ident)">
		<ion-list>
			<ion-item>
				<ion-label stacked>Find METAR</ion-label>
				<ion-input type="text" name="ident" placeholder="KDEN" ngModel required></ion-input>
			</ion-item>
		</ion-list>
		<button ion-button type="submit" block [disabled]="!stationForm.valid">Find</button>
	</form>


	<div *ngIf="recent.length > 0">
		<h5 padding-left>Recent</h5>
		<ion-list>
			<button ion-item
					*ngFor="let station of recent"
					[navPush]="metarDetailsPage"
					[navParams]="{station: station, metar: station.getLatestMetar()}">
				<h2>{{ station.ident | uppercase }}</h2>
				<p>{{ station.getLatestMetar()?.raw }}</p>
			</button>
		</ion-list>
	</div>

	<h5 padding-left>Favorites</h5>
	<ion-list>
		<button ion-item
				*ngFor="let station of favorites"
				[navPush]="metarDetailsPage"
				[navParams]="{station: station, metar: station.getLatestMetar()}">
			<h2>{{ station.ident | uppercase }}</h2>
			<p>{{ station.getLatestMetar()?.raw }}</p>
		</button>
	</ion-list>
	<h5 padding-left>Local</h5>
	<ion-list>
		<button ion-item *ngFor="let station of local" (click)="itemSelected(station)">
			{{ station.ident }}
		</button>
	</ion-list>
</ion-content>
